import{a as p,c as d,b as s,w as _,v as h,d as r,t as a,F as c,o as l,e as U,r as b,f as g,g as w,h as $,i as y,j as x,k as F,l as V,m as B,n as z}from"./vendor.b003dc5f.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&m(n)}).observe(document,{childList:!0,subtree:!0});function u(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function m(t){if(t.ep)return;t.ep=!0;const i=u(t);fetch(t.href,i)}};A();var f=(o,e)=>{for(const[u,m]of e)o[u]=m;return o};const C={data(){return{error:"",login:"",password:""}},methods:{loginBtn(o){let e=new FormData;e.append("username",this.login),e.append("password",this.password),p.post("/api/v1/auth",e).then(u=>{this.$store.commit("auth",{authorized:!0,user_id:u.data.id,username:u.data.username,token:u.data.token}),console.log("auth successful"),this.$router.push("/me")}).catch(u=>{this.error="wrong creds"})}}},N=r(" Username: "),L=r(" Password: "),P=r(),M=s("br",null,null,-1);function I(o,e,u,m,t,i){return l(),d(c,null,[s("form",null,[N,_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.login=n),type:"text"},null,512),[[h,t.login]]),L,_(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password"},null,512),[[h,t.password]])]),s("button",{onClick:e[2]||(e[2]=(...n)=>i.loginBtn&&i.loginBtn(...n))},"Login"),P,M,r(" "+a(t.error),1)],64)}var R=f(C,[["render",I]]);const E={data(){return{username:"",password:"",first_name:"",last_name:"",age:0,gender:"",city:"",interests:"",error:""}},methods:{register(o){if(this.error="",this.username.length<5){this.error="Username should be at least 5 characters";return}if(this.password.length<5){this.error="Password should be at least 5 characters";return}if(this.first_name.length===0){this.error="FirstName should be filled";return}if(this.last_name.length===0){this.error="LastName should be filled";return}let e=this.interests.split(";");p.post("/api/v1/register",{username:this.username,password:this.password,first_name:this.first_name,last_name:this.last_name,age:parseInt(this.age),city:this.city,gender:this.gender,interests:e}).then(u=>{this.$router.push("/login")}).catch(u=>{this.error="something went wrong"})}}},T=r(" Username: "),D=r(),G=s("br",null,null,-1),O=r(" Password: "),S=r(),j=s("br",null,null,-1),q=r(" FirstName: "),H=r(),K=s("br",null,null,-1),W=r(" LastName: "),J=r(),Q=s("br",null,null,-1),X=r(" Age: "),Y=r(),Z=s("br",null,null,-1),ee=r(" Gender: "),te=s("option",{value:"female"},"Female",-1),se=s("option",{value:"male"},"Male",-1),ne=[te,se],re=r(),oe=s("br",null,null,-1),ie=r(" City: "),le=r(),ue=s("br",null,null,-1),ae=r(" Interests: "),de=r(),_e=s("br",null,null,-1),he=r(),me=s("br",null,null,-1),ce=r(),pe=s("br",null,null,-1);function fe(o,e,u,m,t,i){return l(),d(c,null,[s("form",null,[T,_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),type:"text"},null,512),[[h,t.username]]),D,G,O,_(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password"},null,512),[[h,t.password]]),S,j,q,_(s("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.first_name=n),type:"text"},null,512),[[h,t.first_name]]),H,K,W,_(s("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>t.last_name=n),type:"text"},null,512),[[h,t.last_name]]),J,Q,X,_(s("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>t.age=n),type:"text"},null,512),[[h,t.age]]),Y,Z,ee,_(s("select",{"onUpdate:modelValue":e[5]||(e[5]=n=>t.gender=n)},ne,512),[[U,t.gender]]),re,oe,ie,_(s("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>t.city=n),type:"text"},null,512),[[h,t.city]]),le,ue,ae,_(s("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>t.interests=n),type:"text"},null,512),[[h,t.interests]]),de,_e]),he,me,s("button",{onClick:e[8]||(e[8]=(...n)=>i.register&&i.register(...n))},"Register"),ce,pe,r(" "+a(t.error),1)],64)}var ge=f(E,[["render",fe]]);const $e={data(){return{first_name:"",last_name:"",age:0,gender:"",city:"",interests:[],is_friend:!1,self_page:!1}},mounted(){this.$route.params.id==this.$store.state.user_id&&(this.self_page=!0),p.get("/api/v1/profile/"+this.$route.params.id,{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(o=>{this.first_name=o.data.first_name,this.last_name=o.data.last_name,this.age=o.data.age,this.gender=o.data.gender,this.city=o.data.city,this.interests=o.data.interests}),p.get("/api/v1/friends",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(o=>{for(let e of o.data)e.user_id==this.$route.params.id&&(this.is_friend=!0)})},methods:{addFriend(o){p.post("/api/v1/friends/"+o,{},{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(e=>{console.log("friend added"),this.is_friend=!0})},removeFriend(o){p.delete("/api/v1/friends/"+o,{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(e=>{console.log("friend removed"),this.is_friend=!1})}}},ye=s("br",null,null,-1),be=s("br",null,null,-1),ve=s("br",null,null,-1),ke=s("br",null,null,-1),Ue=r(" Interests: ");function we(o,e,u,m,t,i){return l(),d(c,null,[r(" Name: "+a(t.first_name)+" "+a(t.last_name)+" ",1),ye,r(" Age: "+a(t.age)+" ",1),be,r(" Gender: "+a(t.gender)+" ",1),ve,r(" City: "+a(t.city)+" ",1),ke,Ue,s("ul",null,[(l(!0),d(c,null,b(t.interests,n=>(l(),d("li",null,a(n),1))),256))]),this.is_friend&&!this.self_page?(l(),d("button",{key:0,onClick:e[0]||(e[0]=n=>i.removeFriend(this.$route.params.id))},"Remove Friend")):g("",!0),!this.is_friend&&!this.self_page?(l(),d("button",{key:1,onClick:e[1]||(e[1]=n=>i.addFriend(this.$route.params.id))},"Add Friend")):g("",!0)],64)}var xe=f($e,[["render",we]]);const Fe={data(){return{users:[]}},mounted(){p.get("/api/v1/users",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(o=>{for(let e of o.data)this.users.push({id:e.user_id,first_name:e.first_name,last_name:e.last_name})})},methods:{goToUser(o){this.$router.push("/profile/"+o)}}},Ve=r(" Users: "),Be=s("br",null,null,-1),ze=["onClick"];function Ae(o,e,u,m,t,i){return l(),d(c,null,[Ve,Be,s("ul",null,[(l(!0),d(c,null,b(t.users,n=>(l(),d("li",{onClick:v=>i.goToUser(n.id)},a(n.first_name)+" "+a(n.last_name),9,ze))),256))])],64)}var Ce=f(Fe,[["render",Ae]]);const Ne={data(){return{friends:[]}},mounted(){p.get("/api/v1/friends",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(o=>{for(let e of o.data)this.friends.push({id:e.user_id,first_name:e.first_name,last_name:e.last_name})})},methods:{removeFriend(o){p.delete("/api/v1/friends/"+o,{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(e=>{console.log("friend removed")})},goToUser(o){this.$router.push("/profile/"+o)}}},Le=r(" List: "),Pe=s("br",null,null,-1),Me=["onClick"];function Ie(o,e,u,m,t,i){return l(),d(c,null,[Le,Pe,s("ul",null,[(l(!0),d(c,null,b(t.friends,n=>(l(),d("li",{onClick:v=>i.goToUser(n.id)},a(n.first_name)+" "+a(n.last_name),9,Me))),256))])],64)}var Re=f(Ne,[["render",Ie]]);const Ee={data(){return{first_name:"",last_name:"",age:0,gender:"",city:"",interests:"",error:""}},methods:{updateBtn(o){let e=this.interests.split(";");if(this.first_name.length===0){this.error="FirstName should be filled";return}if(this.last_name.length===0){this.error="LastName should be filled";return}p.post("/api/v1/profile",{first_name:this.first_name,last_name:this.last_name,age:parseInt(this.age),city:this.city,gender:this.gender,interests:e},{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(u=>{this.$router.push("/me")}).catch(u=>{this.error="something went wrong"})}}},Te=r(" FirstName: "),De=r(),Ge=s("br",null,null,-1),Oe=r(" LastName: "),Se=r(),je=s("br",null,null,-1),qe=r(" Age: "),He=r(),Ke=s("br",null,null,-1),We=r(" Gender: "),Je=s("option",{value:"female"},"Female",-1),Qe=s("option",{value:"male"},"Male",-1),Xe=[Je,Qe],Ye=r(),Ze=s("br",null,null,-1),et=r(" City: "),tt=r(),st=s("br",null,null,-1),nt=r(" Interests: "),rt=r(),ot=s("br",null,null,-1),it=r(),lt=s("br",null,null,-1),ut=r(),at=s("br",null,null,-1);function dt(o,e,u,m,t,i){return l(),d(c,null,[s("form",null,[Te,_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.first_name=n),type:"text"},null,512),[[h,t.first_name]]),De,Ge,Oe,_(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.last_name=n),type:"text"},null,512),[[h,t.last_name]]),Se,je,qe,_(s("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>t.age=n),type:"text"},null,512),[[h,t.age]]),He,Ke,We,_(s("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>t.gender=n)},Xe,512),[[U,t.gender]]),Ye,Ze,et,_(s("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>t.city=n),type:"text"},null,512),[[h,t.city]]),tt,st,nt,_(s("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>t.interests=n),type:"text"},null,512),[[h,t.interests]]),rt,ot]),it,lt,s("button",{onClick:e[6]||(e[6]=(...n)=>i.updateBtn&&i.updateBtn(...n))},"Update"),ut,at,r(" "+a(t.error),1)],64)}var _t=f(Ee,[["render",dt]]);const ht={data(){return{first_name:"",last_name:"",age:0,gender:"",city:"",interests:[]}},mounted(){p.get("/api/v1/profile",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(o=>{this.first_name=o.data.first_name,this.last_name=o.data.last_name,this.age=o.data.age,this.gender=o.data.gender,this.city=o.data.city,this.interests=o.data.interests})},methods:{profileEdit(o){this.$router.push("/update")}}},mt=s("br",null,null,-1),ct=s("br",null,null,-1),pt=s("br",null,null,-1),ft=s("br",null,null,-1),gt=r(" Interests: ");function $t(o,e,u,m,t,i){return l(),d(c,null,[r(" Name: "+a(t.first_name)+" "+a(t.last_name)+" ",1),mt,r(" Age: "+a(t.age)+" ",1),ct,r(" Gender: "+a(t.gender)+" ",1),pt,r(" City: "+a(t.city)+" ",1),ft,gt,s("ul",null,[(l(!0),d(c,null,b(t.interests,n=>(l(),d("li",null,a(n),1))),256))]),s("button",{onClick:e[0]||(e[0]=(...n)=>i.profileEdit&&i.profileEdit(...n))},"Edit Profile")],64)}var yt=f(ht,[["render",$t]]);const bt={mounted(){}},vt=r("Profile"),kt=r(),Ut=s("br",null,null,-1),wt=r("Users"),xt=r(),Ft=s("br",null,null,-1),Vt=r("Friends"),Bt=r(),zt=s("br",null,null,-1),At=r("Registration"),Ct=r(),Nt=s("br",null,null,-1),Lt=r("Login"),Pt=r(),Mt=s("br",null,null,-1);function It(o,e,u,m,t,i){const n=w("router-link"),v=w("router-view");return l(),d(c,null,[this.$store.state.authorized?(l(),$(n,{key:0,to:{name:"ProfileMy"}},{default:y(()=>[vt]),_:1})):g("",!0),kt,Ut,this.$store.state.authorized?(l(),$(n,{key:1,to:{name:"Users"}},{default:y(()=>[wt]),_:1})):g("",!0),xt,Ft,this.$store.state.authorized?(l(),$(n,{key:2,to:{name:"Friends"}},{default:y(()=>[Vt]),_:1})):g("",!0),Bt,zt,this.$store.state.authorized?g("",!0):(l(),$(n,{key:3,to:{name:"Registration"}},{default:y(()=>[At]),_:1})),Ct,Nt,this.$store.state.authorized?g("",!0):(l(),$(n,{key:4,to:{name:"Login"}},{default:y(()=>[Lt]),_:1})),Pt,Mt,x(v)],64)}var Rt=f(bt,[["render",It]]);const Et=[{path:"/login",name:"Login",component:R},{path:"/registration",name:"Registration",component:ge},{path:"/me",name:"ProfileMy",component:yt},{path:"/profile/:id",name:"Profile",component:xe},{path:"/update",name:"ProfileUpdate",component:_t},{path:"/users",name:"Users",component:Ce},{path:"/friends",name:"Friends",component:Re}],Tt=F({history:V(),routes:Et}),Dt=B({state:{authorized:!1,user_id:0,username:"",token:""},mutations:{auth(o,e){o.authorized=e.authorized,o.user_id=e.user_id,o.username=e.username,o.token=e.token}}}),k=z(Rt);k.use(Tt);k.use(Dt);k.mount("#app");
